{% include "finalApp/header.html" %}


<center>
  <h2>Create Listing</h2>
  <!-- Form for creating a listing, simple validation is handled client-side -->
  <div style="width:50%; margin-top: 3rem;"> 
    <form action="" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="form-group">
        <div class="custom-file">
          <input type="file" class="custom-file-input" name="image" id="image" accept="image/*" required>
          <label class="custom-file-label" for="image">Choose image...</label>
        </div>
      </div>
      <div class="form-group">
        <label for="title"><b>Title</b></label>
        <input type="text" class="form-control" id="title" name="title" required>
      </div>
      <div class="form-group">
        <div class="form-row">
          <div class="col-md-6">
            <label for="price"><b>Price</b></label>
            <input type="number" class="form-control" id="price" name="price" required>
        </div>
        <div class="col-md-6">
          <label for="inventory"><b>Inventory</b></label>
          <input type="number" class="form-control" id="inventory" name="inventory" required>
        </div>
      </div>
    </div>
      <div class="form-group">
      <label for="text"><b>Description</b></label>
      <textarea class="form-control" id="text" name="text" rows="5"></textarea>
    </div>
      <button type="submit" name="edit" class="btn btn-primary">Create Listing</button>
    </form>
  </div>
</center>

<!-- JS Script to load filename when picture is browsed -->
<script>
  $('#image').on('change',function(){
    // Getting the filename and replacing the label 
    var fileName = $(this).val();
    $(this).next('.custom-file-label').html(fileName);
  })
</script>
